<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 7.8 (457454)"/><meta name="author" content="mcivor88@me.com"/><meta name="created" content="2018-12-03 18:07:36 +0000"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2019-04-08 12:58:03 +0000"/><title>Access - 10.10.10.98</title></head><body><div><img src="Access%20-%2010.10.10.98.html.resources/Screenshot%202018-12-03%20at%2018.39.23.png" height="182" width="644"/><br/></div><div><br/></div><ul><li><div>Attempt to connect to FTP port as Anonymous session <img src="Access%20-%2010.10.10.98.html.resources/D91B7E18-3B3B-4336-BDC9-3EA80F7282A6.png" height="457" width="649"/></div></li></ul><div>Can see 2 DIRs listed with a <span style="background-color: rgb(255, 250, 165); font-weight: bold;-evernote-highlight:true;">backup.mdb</span> file and a <span style="background-color: rgb(255, 250, 165); font-weight: bold;-evernote-highlight:true;">AccessControl.zip</span> file available.</div><div><br/></div><div>AccessControl.zip is an AES encrypted archive:</div><ul><li><div>Determined by using unzip - shows compression methods 99 not known error </div></li><li><div>Try using 7zip and asks for password </div></li></ul><div><br/></div><div>Backup.mdb is MSFT access database file:</div><ul><li><div>download mdbtools to work with file format</div></li><li><div>CORRUPTION ISSUE by not using ’binary’ mode of ftp - </div></li><ul><li><div>Before any file transfer, issue ‘binary’ command to change transfer mode to Type 1 else file corruption </div></li></ul></ul><div><br/></div><div>Using mdb-table we can list the table names, from these we can see the user_auth table which shows us usernames and passwords of which we try until we find the engineer account password ‘<span style="font-style: italic;">access4u@security</span>’ works for unzipping the ‘Access Control.zip’ archive giving us ‘Access Control.pst’ (outlook file email folder)</div><div><br/></div><div><img src="Access%20-%2010.10.10.98.html.resources/Screenshot%202018-12-04%20at%2020.47.36.png" height="1166" width="3208"/><br/></div><div><br/></div><div>We cab read the pst file using pstutils readpst command which gives us an HTML output of the mailbox contiaining the following message details</div><div><br/></div><div><img src="Access%20-%2010.10.10.98.html.resources/2A34B1A1-74B5-4532-A279-5790FCC49471.png" height="1396" width="2224"/><br/></div><div> </div><div><br/></div><div>We can now try the account ‘security’ and associated password on the telnet service </div><div><img src="Access%20-%2010.10.10.98.html.resources/Screenshot%202018-12-04%20at%2021.16.28.png" height="678" width="1010"/><br/></div><div><br/></div><div><br/></div><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">LAZY ADMIN HAS LEFT CREDS SAVED WHEN ELEVATING</span>  run as command can be used to elevate to admin for reading file:</div><div><br/></div><div><img src="Access%20-%2010.10.10.98.html.resources/Screenshot%202018-12-23%20at%2018.22.33.png" height="778" width="2474"/><br/></div><div><br/></div></body></html>